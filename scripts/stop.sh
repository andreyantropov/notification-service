#!/bin/bash

if [ -f ../.env ]; then
  export $(grep -v '^#' ../.env | xargs)
fi

SERVICE_NAME=${SERVICE_NAME:-notification-service}

echo "üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ '$SERVICE_NAME'..."

if [ "$(docker ps -a -f name="^/${SERVICE_NAME}$" --format '{{.Names}}')" ]; then
  docker stop "$SERVICE_NAME" > /dev/null 2>&1 && echo "‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
  docker rm "$SERVICE_NAME" > /dev/null 2>&1 && echo "‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–¥–∞–ª—ë–Ω"
else
  echo "‚ÑπÔ∏è –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä '$SERVICE_NAME' –Ω–µ –Ω–∞–π–¥–µ–Ω."
fi