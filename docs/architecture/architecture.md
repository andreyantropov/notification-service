# ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

Ð­Ñ‚Ð¾Ñ‚ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ‚ÑƒÐ°Ð»ÑŒÐ½ÑƒÑŽ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñƒ ÑÐµÑ€Ð²Ð¸ÑÐ° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ â€” ÐµÐ³Ð¾ Ñ†ÐµÐ»Ð¸, ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ, ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ñ‹ Ð¸ Ñ€Ð¾Ð»Ð¸ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð².

ÐžÐ½ Ð¿Ñ€ÐµÐ´Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½ Ð´Ð»Ñ:

- Ð½Ð¾Ð²Ñ‹Ñ… Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð²,
- Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚Ð¾Ñ€Ð¾Ð²,
- DevOps,
- Ñ‚ÐµÑ…, ÐºÑ‚Ð¾ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð¸Ñ€ÑƒÐµÑ‚ ÑÐµÑ€Ð²Ð¸Ñ Ð² Ð´Ñ€ÑƒÐ³Ð¸Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹.

> ðŸ’¡ Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ñ„Ð¾ÐºÑƒÑÐ¸Ñ€ÑƒÐµÑ‚ÑÑ Ð½Ð° **"Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ" Ð¸ "ÐºÐ°Ðº Ð² Ñ†ÐµÐ»Ð¾Ð¼"**, Ð° Ð½Ðµ Ð½Ð° Ð´ÐµÑ‚Ð°Ð»ÑÑ… Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸.  
> ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾ÑÑ‚Ð¸ â€” Ð² ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ… Ñ„Ð°Ð¹Ð»Ð°Ñ… `docs/`.

> ðŸŽ¯ Ð­Ñ‚Ð¾Ñ‚ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ð¾Ð»ÐµÐ·ÐµÐ½:
>
> - **Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÑƒ** â€” Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð½ÑÑ‚ÑŒ, ÐºÐ°Ðº ÑƒÑÑ‚Ñ€Ð¾ÐµÐ½ ÑÐµÑ€Ð²Ð¸Ñ Ð¸ Ð³Ð´Ðµ Ñ‡Ñ‚Ð¾ Ð»ÐµÐ¶Ð¸Ñ‚.
> - **DevOps / SRE** â€” Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð½ÑÑ‚ÑŒ, ÐºÐ°Ðº ÑÐµÑ€Ð²Ð¸Ñ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð¸ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ‚ÑÑ.
> - **ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚Ð¾Ñ€Ñƒ** â€” Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ñ†ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð² Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ….
> - **Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸ÐºÑƒ** â€” Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð½ÑÑ‚ÑŒ, ÐºÐ°ÐºÐ¸Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ñ‹.

## Ð¦ÐµÐ»ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

Ð¡ÐµÑ€Ð²Ð¸Ñ Ð¿Ñ€ÐµÐ´Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½ Ð´Ð»Ñ Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¾Ð½Ð½Ð¾Ð¹ Ñ€Ð°ÑÑÑ‹Ð»ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼ Ñ‡ÐµÑ€ÐµÐ· Bitrix24 API Ð¸Ð»Ð¸ Email.  
Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾ Ð² InfluxDB Ð´Ð»Ñ Ð´Ð°Ð»ÑŒÐ½ÐµÐ¹ÑˆÐµÐ³Ð¾ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð° Ñ‡ÐµÑ€ÐµÐ· Grafana.

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```src/
â”œâ”€â”€ api/ # API
â”‚ â”œâ”€â”€ openapi/ # Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Swagger
â”‚ â””â”€â”€ schemas/ # ZOD-ÑÑ…ÐµÐ¼Ñ‹ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸
â”œâ”€â”€ application/ # ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´Ð½Ð¾Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ: Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ°
â”‚ â””â”€â”€ services/
â”‚   â”œâ”€â”€ notificationDeliveryService/ # Ð¡ÐµÑ€Ð²Ð¸Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹
â”‚   â””â”€â”€ notificationLoggerService/ # Ð›Ð¾Ð³Ð³ÐµÑ€
â”‚ â””â”€â”€ useCases/ # UseCase'Ñ‹
â”œâ”€â”€ composition/ # Composition Root
â”‚   â”œâ”€â”€ bootstrap/ # Ð—Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
â”‚   â”œâ”€â”€ core/ # Singleton'Ñ‹ ÑÐ´Ñ€Ð° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ (ÑÐµÑ€Ð²Ð¸ÑÑ‹, use cases)
â”‚   â”œâ”€â”€ server/ # Singleton'Ñ‹ HTTP-ÑÐµÑ€Ð²ÐµÑ€Ð° Ð¸ ÐµÐ³Ð¾ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
â”œâ”€â”€ configs/ # ÐšÐ¾Ð½Ñ„Ð¸Ð³Ð¸ Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð½Ñ‹Ñ… ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÐµÐ¹
â”œâ”€â”€ domain/ # Ð”Ð¾Ð¼ÐµÐ½Ð½Ð°Ñ Ð¼Ð¾Ð´ÐµÐ»ÑŒ
â”‚ â””â”€â”€ interfaces/ # ÐÐ±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¸ (Ð¿Ð¾Ñ€Ñ‚Ñ‹)
â”‚ â””â”€â”€ types/ # ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ Ñ‚Ð¸Ð¿Ñ‹
â”œâ”€â”€ infrastructure/ # Ð˜Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð½Ñ‹Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ñ‹
â”‚ â””â”€â”€ http/ # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€ÐºÐ¾Ð²
â”‚   â””â”€â”€ express/
â”‚ â””â”€â”€ senders/ # ÐšÐ°Ð½Ð°Ð»Ñ‹ Ñ€Ð°ÑÑÑ‹Ð»ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹
â”‚   â”œâ”€â”€ bitrixSender/
â”‚   â””â”€â”€ smtpSender/
â”œâ”€â”€ shared/ # ÐžÐ±Ñ‰Ð¸Ðµ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¸ Ð¸ ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ñ‹
â”‚ â””â”€â”€ enums/
â”‚ â””â”€â”€ infrastructure/
â”‚  â””â”€â”€ loggers # Ð›Ð¾Ð³Ð³ÐµÑ€Ñ‹
â”‚ â””â”€â”€ interfaces/
â”‚ â””â”€â”€ utils/
â””â”€â”€ index.ts # Ð¢Ð¾Ñ‡ÐºÐ° Ð²Ñ…Ð¾Ð´Ð° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ/Composition Root
```

## ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ñ‹

ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð½Ð° Ñ„ÑƒÐ½Ð´Ð°Ð¼ÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð°Ñ…, Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÑŽÑ‰Ð¸Ñ… **Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ**, **Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÐµÐ¼Ð¾ÑÑ‚ÑŒ** Ð¸ **Ð½ÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¾Ñ‚ Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹**.

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ñ‹

- **Clean Architecture**  
  Ð§Ñ‘Ñ‚ÐºÐ¾Ðµ Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð½Ð° ÑÐ»Ð¾Ð¸: `domain`, `application`, `infrastructure`, `api`.  
  Ð‘Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¸Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð¾Ñ‚ Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹ (HTTP, Ð±Ð°Ð·Ñ‹, Ð¾Ñ‡ÐµÑ€ÐµÐ´Ð¸).

- **12-Factor App**  
  Ð¡ÐµÑ€Ð²Ð¸Ñ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ð°Ð¼ [12-factor](https://12factor.net/):
  - ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ (`.env`).
  - ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ (stateless).
  - Ð•Ð´Ð¸Ð½Ñ‹Ð¹ ÐºÐ¾Ð´Ð±ÐµÐ¹Ð·, Ñ€Ð°Ð·Ð²Ñ‘Ñ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹.
  - Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² `stdout`.  
    Ð­Ñ‚Ð¾ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚ **Ð¿ÐµÑ€ÐµÐ½Ð¾ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ** Ð¸ **Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ CI/CD**.

- **Dependency Injection (DI)**  
  Ð’ÑÐµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ÑÑ ÑÐ²Ð½Ð¾, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚:
  - Ð“Ð¸Ð±ÐºÐ¾ Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¸ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸).
  - Ð›ÐµÐ³ÐºÐ¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ (Ð¿Ð¾Ð´Ð¼ÐµÐ½Ð° Ð¼Ð¾ÐºÐ°Ð¼Ð¸).
  - Ð˜Ð·Ð±ÐµÐ¶Ð°Ñ‚ÑŒ Ð¶Ñ‘ÑÑ‚ÐºÐ¾Ð¹ ÑÐ²ÑÐ·Ð°Ð½Ð½Ð¾ÑÑ‚Ð¸.

- **Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ‚Ð¸Ð»ÑŒ Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ð°**  
  Ð¡ÐµÑ€Ð²Ð¸ÑÑ‹ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹ ÐºÐ°Ðº **Ñ‡Ð¸ÑÑ‚Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸** Ñ ÑÐ²Ð½Ñ‹Ð¼Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑÐ¼Ð¸ Ð¸ Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¼ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸ÐµÐ¼.  
  ÐœÑ‹ ÑÐ»ÐµÐ´ÑƒÐµÐ¼ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ð°Ð¼ **KISS** (Keep It Simple) Ð¸ **DRY** (Don't Repeat Yourself):
  - ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€ÑÑŽÑ‰Ð°ÑÑÑ Ð»Ð¾Ð³Ð¸ÐºÐ° (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, fallback-Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ°) Ð²Ñ‹Ð½ÐµÑÐµÐ½Ð° Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¼Ð¾Ð´ÑƒÐ»Ð¸.
  - Ð¡Ð»Ð¾Ð¶Ð½Ñ‹Ðµ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑŽÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¸ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸.  
    Ð­Ñ‚Ð¾ ÑƒÐ¿Ñ€Ð¾Ñ‰Ð°ÐµÑ‚ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ, Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ ÐºÐ¾Ð´Ð°.

## ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹

1. **Ð¡ÐµÑ€Ð²Ð¸Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ (NS)**
   - ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ: Ð¡ÐµÑ€Ð²Ð¸Ñ Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¾Ð½Ð½Ð¾Ð¹ Ñ€Ð°ÑÑÑ‹Ð»ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼ Ñ‡ÐµÑ€ÐµÐ· Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÐºÐ°Ð½Ð°Ð»Ñ‹ ÑÐ²ÑÐ·Ð¸ (Bitrix24, Email). Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´ÑÑ‚ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€ Ð¿Ð¾ API.
   - Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸: TypeScript + Node.js.
   - Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:
     - Ð‘Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸: `axios`, `nodemailer`, `express`, `@influxdata/influxdb-client`, `dotenv`.
     - Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸: `eslint`, `prettier`, `vitest`, `ts-node`, `nodemon`.
2. **Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ (Log)**
   - ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ: Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° ÑÐ±Ð¾Ñ€Ð° Ð¸ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð»Ð¾Ð³Ð¾Ð² Ð´Ð»Ñ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÑÐµÑ€Ð²Ð¸ÑÐ°.
   - Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸: InfluxDB.
   - ÐšÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ°Ñ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ°: `@influxdata/influxdb-client`.
3. **ÐšÐ°Ð½Ð°Ð»Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹**
   - **Bitrix24**: ÐŸÐµÑ€Ð²Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ°Ð½Ð°Ð» Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ Ñ‡ÐµÑ€ÐµÐ· API Bitrix24.
     - Ð‘Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ°: `axios`.
   - **SMTP**: Ð ÐµÐ·ÐµÑ€Ð²Ð½Ñ‹Ð¹ ÐºÐ°Ð½Ð°Ð» Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ð¾Ñ‡Ñ‚Ð¾Ð²Ñ‹Ð¹ ÑÐµÑ€Ð²ÐµÑ€.
     - Ð‘Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ° `nodemailer`.

## Ð”Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ð° ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²

### 1. Ð’Ð½ÐµÑˆÐ½ÑÑ ÑÑ…ÐµÐ¼Ð°

```mermaid
flowchart TB
    subgraph Docker
        Container[ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ notification-service]
    end
    ExternalSystem -->|HTTP POST /notifications| Container
    Container --> Bitrix[(Bitrix24 API)]
    Container --> SMTP[(SMTP ÑÐµÑ€Ð²ÐµÑ€)]
    Container --> Log[(InfluxDB)]
    Log --> Admin
    Bitrix --> User
    SMTP --> User
```

### 2. Ð’Ð½ÐµÑ‚Ñ€ÐµÐ½Ð½ÑÑ ÑÑ…ÐµÐ¼Ð°

```mermaid
graph TD
    subgraph Domain
        INotificationSender[(INotificationSender)]
        ILoggerWriter[(ILoggerWriter)]
        Notification[Notification]
        Recipient[Recipient]
    end
    subgraph Application
        NotificationService[createNotificationService]
        NotificationLoggerClient[createApplicationLogger]
    end
    subgraph Infrastructure
        BitrixClient[bitrixClient]
        SmtpClient[smtpClient]
        InfluxDbLogger[influxDbLogger]
        LocalFileLogger[localFileLogger]
    end
    subgraph Shared
        FallbackLogger[fallbackLogger]
        Retry[retry]
    end
    NotificationLoggerClient -->|uses| ILoggerWriter
    NotificationService -->|uses| INotificationSender
    NotificationService -->|uses| NotificationLoggerClient
    BitrixClient -.->|implements| INotificationSender
    SmtpClient -.->|implements| INotificationSender
    InfluxDbLogger -.->|implements| ILoggerWriter
    LocalFileLogger -.->|implements| ILoggerWriter
    FallbackLogger -->|wraps multiple loggers| ILoggerWriter
    FallbackLogger --> InfluxDbLogger
    FallbackLogger --> LocalFileLogger
    NotificationService -->|DI Ñ‡ÐµÑ€ÐµÐ· ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€| BitrixClient
    NotificationService -->|DI Ñ‡ÐµÑ€ÐµÐ· ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€| SmtpClient
    NotificationService -->|DI Ñ‡ÐµÑ€ÐµÐ· ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€| NotificationLoggerClient
    NotificationLoggerClient -->|DI Ñ‡ÐµÑ€ÐµÐ· fallback| ILoggerWriter
```

## ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹

1. **ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹**:
   - Ð¡ÐµÑ€Ð²Ð¸Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ (NS) Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼ Ñ‡ÐµÑ€ÐµÐ· HTTP-Ð·Ð°Ð¿Ñ€Ð¾Ñ `POST /notifications`.
2. **ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹**:
   - Ð”Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»Ñ NS Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ **Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½ÑƒÑŽ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸ÑŽ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸**.
   - ÐŸÐ¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ `sendToFirstAvailableStrategy`, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¾Ð±ÑƒÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ ÐºÐ°Ð½Ð°Ð»Ñ‹.
   - Ð•ÑÐ»Ð¸ Ð½Ð¸ Ð¾Ð´Ð¸Ð½ ÐºÐ°Ð½Ð°Ð» Ð½Ðµ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°Ð» â€” Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ°.
3. **ÐžÑ‚Ð²ÐµÑ‚ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ñƒ**:
   - ÐŸÐ¾ÑÐ»Ðµ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð²ÑÐµÑ… ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ NS Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ ÑÑ‚Ð°Ñ‚ÑƒÑ HTTP 201 Created.
4. **Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**:
   - Ð’ÑÐµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ (ÑƒÑÐ¿ÐµÑˆÐ½Ñ‹Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸, Ð¾ÑˆÐ¸Ð±ÐºÐ¸, ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ) Ð»Ð¾Ð³Ð¸Ñ€ÑƒÑŽÑ‚ÑÑ Ð² InfluxDB Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð¸ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°.

## ÐœÐ¾Ð´ÑƒÐ»ÑŒÐ½Ð°Ñ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑÐ¼Ð¸

Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð° Ñ‚Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð³Ð¸Ð±ÐºÐ¾Ð¹ Ð¸ Ð»ÐµÐ³ÐºÐ¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼Ð¾Ð¹. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿ Ð²Ð½ÐµÐ´Ñ€ÐµÐ½Ð¸Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹ (`Dependency Injection`) Ð¸ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½ **Ñ„Ð°Ð±Ñ€Ð¸Ðº**.

### Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ„Ð°Ð±Ñ€Ð¸Ðº

Ð”Ð»Ñ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð² Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ñ„Ð°Ð±Ñ€Ð¸Ñ‡Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸:

Ð­Ñ‚Ð¾ Ð´Ð°Ñ‘Ñ‚ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:

- **ÐšÐ»Ð¸ÐµÐ½Ñ‚Ñ‹ Ð»ÐµÐ³ÐºÐ¾ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ**
- **ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ…**
- **Ð£Ð´Ð¾Ð±ÑÑ‚Ð²Ð¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ** â€” Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒ Ð¼Ð¾ÐºÐ½ÑƒÑ‚Ñ‹Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

ÐŸÑ€Ð¸Ð¼ÐµÑ€:

```ts
const sender = getSenderInstance(bitrixConfig, smtpConfig, onError);
const logger = getLoggerInstance(influxDbLoggerConfig);
```

## API ÑÐµÑ€Ð²Ð¸ÑÐ°

API ÑÐµÑ€Ð²Ð¸ÑÐ° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ HTTP-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð´Ð»Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ð¼ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»ÑÐ¼ (email, Bitrix24 Ð¸ Ð´Ñ€.). ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚ `/v1/notifications` Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ ÐºÐ°Ðº Ð¾Ð´Ð¸Ð½Ð¾Ñ‡Ð½Ñ‹Ðµ, Ñ‚Ð°Ðº Ð¸ Ð¿Ð°ÐºÐµÑ‚Ð½Ñ‹Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ (Ð´Ð¾ 100 Ð·Ð° Ñ€Ð°Ð·), Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°Ñ Ð³Ð¸Ð±ÐºÐ¾ÑÑ‚ÑŒ Ð¸ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð¸ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸.

Ð¡ÐµÑ€Ð²Ð¸Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ Ð½Ð° **Express.js** Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ ÐµÐ³Ð¾ Ð»Ñ‘Ð³ÐºÐ¾ÑÑ‚Ð¸ Ð¸ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼ Ðº Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ Ð¾Ð²ÐµÑ€Ñ…ÐµÐ´Ñƒ Ð¸ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð¹ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸. ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° API ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑÑ Ð²Ð¾ÐºÑ€ÑƒÐ³ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ð¾Ð² REST Ð¸ HTTP-ÑÐµÐ¼Ð°Ð½Ñ‚Ð¸ÐºÐ¸: Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ðµ ÑÑ‚Ð°Ñ‚ÑƒÑ-ÐºÐ¾Ð´Ñ‹, middleware-Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° (Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ, rate limiting, Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ) Ð¸ healthcheck-ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ñ‹ Ð´Ð»Ñ Ð¾Ñ€ÐºÐµÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸.

Ð”Ð»Ñ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð° Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð² Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð° **Ð¿Ð¾Ð»Ð½Ð°Ñ OpenAPI-ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ (Swagger)**, Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð°Ñ Ð² Ð¸Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾Ð¹ Ñ„Ð¾Ñ€Ð¼Ðµ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ `/api-docs`. ÐžÐ½Ð° Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚:

- Ñ‚Ð¾Ñ‡Ð½Ñ‹Ðµ ÑÑ…ÐµÐ¼Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²,
- Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ,
- Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ Ð²ÑÐµÑ… ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ð¾Ð² Ð¸ ÑÑ‚Ð°Ñ‚ÑƒÑÐ¾Ð².

> ðŸ’¡ ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ API, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð², ÐºÐ¾Ð´Ñ‹ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð¸ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹, Ð²Ñ‹Ð½ÐµÑÐµÐ½Ð° Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð»: [`api.md`](./api.md).

## Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹

Ð¡ÐµÑ€Ð²Ð¸Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ **Ð³Ð¸Ð±ÐºÐ¸Ðµ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¸ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹**, Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÑ Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ð¹ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¿Ñ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ð½Ð¾ÑÑ‚ÑŒ ÐºÐ°Ð½Ð°Ð»Ð¾Ð², Ð¾Ñ‚ÐºÐ°Ð·Ð¾ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÑŒ, Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ð°Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð¸ Ñ‚.Ð´.).

ÐŸÐ¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ **"Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€Ð²Ð¾Ð¼Ñƒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾Ð¼Ñƒ"** (`sendToFirstAvailableStrategy`), Ð¿Ñ€Ð¸ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹:

- ÐŸÐ¾Ð¿Ñ‹Ñ‚ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÑÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ ÐºÐ°Ð½Ð°Ð» Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ°.
- Ð•ÑÐ»Ð¸ ÐºÐ°Ð½Ð°Ð» Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ â€” Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ðº ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼Ñƒ.
- ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð¹ Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ñ‡Ð½Ð¾Ð¹ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐµ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð¾Ð´Ð½Ð¸Ð¼ ÑÐ¿Ð¾ÑÐ¾Ð±Ð¾Ð¼.

ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº Ð½Ð° ÐºÐ°Ð½Ð°Ð» â€” 1 (Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ ÑƒÐ²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð¾ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ñ‹ `retry`).

> ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¹ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, "Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð²ÑÐµÐ¼", "Ð¿Ð¾ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸ÑŽ", "Ñ ÑÐºÑÐ¿Ð¾Ð½ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹") Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð° ÑÐµÑ€Ð²Ð¸ÑÐ°.

> ðŸ’¡ ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð¿Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸ÑÐ¼ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð²: [`docs/strategies.md`](./strategies.md).

## ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸Ð·Ð°Ñ†Ð¸Ñ

Ð¡ÐµÑ€Ð²Ð¸Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½ ÐºÐ°Ðº ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ð² ÑÑ€ÐµÐ´Ðµ Docker. Ð­Ñ‚Ð¾ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚:

- **Ð•Ð´Ð¸Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð¸Ðµ** Ð¼ÐµÐ¶Ð´Ñƒ development, staging Ð¸ production-ÑÑ€ÐµÐ´Ð°Ð¼Ð¸.
- **Ð˜Ð·Ð¾Ð»ÑÑ†Ð¸ÑŽ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹** Ð¸ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ.
- **ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ð²Ñ‘Ñ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ** Ñ‡ÐµÑ€ÐµÐ· CI/CD Ð¸ Ð¾Ñ€ÐºÐµÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñ‹ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Kubernetes).

ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ ÑÐºÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð½Ð° Node.js Ð¸ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÐµÑ‚ Ñ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¼Ð¸ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ð¼Ð¸ (Bitrix24, SMTP, InfluxDB) Ñ‡ÐµÑ€ÐµÐ· Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ. Ð’ÑÐµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ÑÑ Ð¿Ñ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ, Ñ‡Ñ‚Ð¾ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ [12-factor app methodology](https://12factor.net/).

> ðŸ’¡ ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð¿Ð¾ ÑÐ±Ð¾Ñ€ÐºÐµ, Ð·Ð°Ð¿ÑƒÑÐºÑƒ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÑŽ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð¼ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð²: [`docs/docker.md`](./docker.md).

## ÐÐ°Ð±Ð»ÑŽÐ´Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ

Ð¡ÐµÑ€Ð²Ð¸Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð¿Ð¾Ð»Ð½ÑƒÑŽ Ð½Ð°Ð±Ð»ÑŽÐ´Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚:

- **Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð»Ð¾Ð³Ð¸** Ñ Ñ‚ÐµÐ³Ð°Ð¼Ð¸ Ð´Ð»Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ (ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ, Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ, Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº, Ñ‚Ð¸Ð¿ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ).
- **Ð¡ÐºÐ²Ð¾Ð·Ð½ÑƒÑŽ Ñ‚Ñ€Ð°ÑÑÐ¸Ñ€Ð¾Ð²ÐºÑƒ** Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ `traceId` Ð¸ `correlationId`.
- **Ð ÐµÐ·ÐµÑ€Ð²Ð½Ñ‹Ðµ ÐºÐ°Ð½Ð°Ð»Ñ‹ Ð·Ð°Ð¿Ð¸ÑÐ¸** (InfluxDB â†’ Ñ„Ð°Ð¹Ð» â†’ stdout), Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð½Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ½Ñ‹.
- **Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸** Ñ‡ÐµÑ€ÐµÐ· Grafana.
- **ÐÐ»ÐµÑ€Ñ‚Ð¸Ð½Ð³ Ð² Telegram** Ð½Ð° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ ÑƒÑ€Ð¾Ð²Ð½Ñ `error` Ð¸ `critical`.

ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ñƒ **"fail-safe logging"** â€” Ð´Ð°Ð¶Ðµ Ð¿Ñ€Ð¸ Ð¾Ñ‚ÐºÐ°Ð·Ðµ Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼ Ð»Ð¾Ð³Ð¸ Ð½Ðµ Ñ‚ÐµÑ€ÑÑŽÑ‚ÑÑ.

> ðŸ’¡ ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ ÑÑ…ÐµÐ¼Ð° Ð¿Ð¾Ð»ÐµÐ¹, Ñ‚ÐµÐ³Ð¾Ð² Ð¸ Ð´Ð°ÑˆÐ±Ð¾Ñ€Ð´Ð¾Ð² Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð²: [`docs/monitoring.md`](./monitoring.md).

## ÐžÑ‚ÐºÐ°Ð·Ð¾ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÑŒ

Ð¡ÐµÑ€Ð²Ð¸Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð² Ðº Ñ‡Ð°ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ð¼ ÑÐ±Ð¾ÑÐ¼ Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ:

- **Fallback-Ñ†ÐµÐ¿Ð¾Ñ‡ÐºÐ°Ð¼** Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ (Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ðº Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ð¼Ñƒ ÐºÐ°Ð½Ð°Ð»Ñƒ) Ð¸ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ (InfluxDB â†’ Ñ„Ð°Ð¹Ð» â†’ stdout).
- **Ð“Ð¸Ð±ÐºÐ¾Ð¹ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ Ð¾ÑˆÐ¸Ð±Ð¾Ðº** â€” ÑÐ±Ð¾Ð¹ Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÐºÐ°Ð½Ð°Ð»Ð° Ð½Ðµ Ð¾ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÑƒ.
- **Ð¡ÐºÐ²Ð¾Ð·Ð½Ð¾Ð¹ Ñ‚Ñ€Ð°ÑÑÐ¸Ñ€Ð¾Ð²ÐºÐµ** Ñ `traceId` Ð¸ `correlationId` Ð´Ð»Ñ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ¸.
- **ÐÐ»ÐµÑ€Ñ‚Ð¸Ð½Ð³Ñƒ** Ð½Ð° ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸.

ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÑ‚, Ñ‡Ñ‚Ð¾ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¾, ÐµÑÐ»Ð¸ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð¾Ð´Ð¸Ð½ ÐºÐ°Ð½Ð°Ð» Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½, Ð° Ð»Ð¾Ð³Ð¸ â€” Ð·Ð°Ð¿Ð¸ÑÐ°Ð½Ñ‹, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð°.

> ðŸ’¡ ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ â€” Ð²: [`docs/resilience.md`](./resilience.md).

## Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ

Ð¡ÐµÑ€Ð²Ð¸Ñ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚ Ð·Ð°Ñ‰Ð¸Ñ‚Ñƒ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¹ Ð·Ð° ÑÑ‡Ñ‘Ñ‚:

- **Ð˜Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ ÑÐµÐºÑ€ÐµÑ‚Ð¾Ð²** Ñ‡ÐµÑ€ÐµÐ· `.env` (Ð½Ðµ Ð² ÐºÐ¾Ð´Ðµ).
- **Ð¨Ð¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ‚Ñ€Ð°Ñ„Ð¸ÐºÐ°** Ñ‡ÐµÑ€ÐµÐ· HTTPS (Ð²Ð½ÐµÑˆÐ½Ð¸Ðµ Ð²Ñ‹Ð·Ð¾Ð²Ñ‹) Ð¸ TLS-Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ñ†Ð¸ÑŽ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ nginx.
- **Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ð¹ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸** Ñ SMTP-ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼.
- **Ð Ð°Ð±Ð¾Ñ‚Ñ‹ Ð² Ð´Ð¾Ð²ÐµÑ€ÐµÐ½Ð½Ð¾Ð¹ ÑÐµÑ‚Ð¸** (Ð¿Ð¾ÐºÐ° Ð±ÐµÐ· Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð²Ñ…Ð¾Ð´ÑÑ‰Ð¸Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²).

ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° ÑÐ¿Ñ€Ð¾ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ñ ÑƒÑ‡Ñ‘Ñ‚Ð¾Ð¼ Ð±ÑƒÐ´ÑƒÑ‰ÐµÐ³Ð¾ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ: Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Vault, API-ÐºÐ»ÑŽÑ‡Ð¸ Ð¸Ð»Ð¸ JWT.

> ðŸ’¡ ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ â€” Ð²: [`docs/security.md`](./security.md).

## ÐœÐ°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ Ð¸ Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÐµÐ¼Ð¾ÑÑ‚ÑŒ

Ð¡ÐµÑ€Ð²Ð¸Ñ ÑÐ¿Ñ€Ð¾ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½ ÐºÐ°Ðº **stateless** Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð»ÐµÐ³ÐºÐ¾ **Ð³Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ð¾ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ð½** Ð² Kubernetes Ð¸Ð»Ð¸ Docker Swarm.

ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚:

- **Ð“Ð¸Ð±ÐºÐ¾Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… ÐºÐ°Ð½Ð°Ð»Ð¾Ð²** (Telegram, SMS Ð¸ Ð´Ñ€.) Ñ‡ÐµÑ€ÐµÐ· Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ `NotificationSender`.
- **ÐŸÐ¾Ð´Ð¼ÐµÐ½ÑÐµÐ¼Ñ‹Ðµ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¸ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸** (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, "Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ð¹", "Ð²ÑÐµ ÐºÐ°Ð½Ð°Ð»Ñ‹").
- **ÐœÐ¾Ð´ÑƒÐ»ÑŒÐ½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ** Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ fallback-Ñ†ÐµÐ¿Ð¾Ñ‡ÐµÐº.

Ð­Ñ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐµÑ€Ð²Ð¸Ñ Ð¿Ð¾Ð´ Ñ€Ð°ÑÑ‚ÑƒÑ‰Ð¸Ðµ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¸ Ð½Ð¾Ð²Ñ‹Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ, Ð½Ðµ Ð½Ð°Ñ€ÑƒÑˆÐ°Ñ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐ¹ Ð»Ð¾Ð³Ð¸ÐºÐ¸.

> ðŸ’¡ ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ â€” Ð²: [`docs/scalability.md`](./scalability.md).

## Use Cases: Ð ÐµÑ‚Ñ€Ð°Ð½ÑÐ»ÑÑ†Ð¸Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹

Ð¡ÐµÑ€Ð²Ð¸Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ **Ð½Ðµ Ð¸Ð½Ð¸Ñ†Ð¸Ð¸Ñ€ÑƒÐµÑ‚** Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÑƒ Ð¸ **Ð½Ðµ Ð·Ð½Ð°ÐµÑ‚ Ð¾ Ð±Ð¸Ð·Ð½ÐµÑ-ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÑÑ…**. ÐžÐ½ ÑÐ²Ð»ÑÐµÑ‚ÑÑ **Ð¿Ð°ÑÑÐ¸Ð²Ð½Ñ‹Ð¼ Ñ€ÐµÑ‚Ñ€Ð°Ð½ÑÐ»ÑÑ‚Ð¾Ñ€Ð¾Ð¼ (dumb pipe)**, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹:

- ÐŸÑ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ ERP Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼.
- Ð”Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð¸Ñ… Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»ÑÐ¼ Ñ‡ÐµÑ€ÐµÐ· Bitrix24, email Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ ÐºÐ°Ð½Ð°Ð»Ñ‹.
- Ð“Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÑƒ Ð¿Ð¾ Ð¿ÐµÑ€Ð²Ð¾Ð¼Ñƒ Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ¼Ñƒ ÐºÐ°Ð½Ð°Ð»Ñƒ.
- Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸.

Ð¡ÐµÐ¹Ñ‡Ð°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹ Ð´Ð²Ð° ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ñ:

1. Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð¼ÐµÑ€ÑÐ°Ð½Ñ‚Ð¾Ð² Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¸ÑÐ²Ð¾ÐµÐ½Ð¸Ð¸ ÑÐµÑ€Ð¸Ð¹Ð½Ð¾Ð³Ð¾ Ð½Ð¾Ð¼ÐµÑ€Ð°.
2. Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸.

ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° "Ð³Ð»ÑƒÐ¿Ð¾Ð³Ð¾ ÑÐµÑ€Ð²Ð¸ÑÐ°" Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ñƒ, Ð½Ð°Ð´Ñ‘Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¸ Ð½ÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¾Ñ‚ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð² ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹.

> ðŸ’¡ ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾ÑÑ‚Ð¸ â€” Ð²: [`docs/use-cases.md`](./use-cases.md).

## Composition Root: ÑÐ±Ð¾Ñ€ÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ

Ð’ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ (ÐºÐ°Ð½Ð°Ð»Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸, Ð»Ð¾Ð³Ð³ÐµÑ€Ñ‹, use cases) ÑÐ¾Ð±Ð¸Ñ€Ð°ÑŽÑ‚ÑÑ Ð² Ð¾Ð´Ð½Ð¾Ð¼ Ð¼ÐµÑÑ‚Ðµ â€” **Composition Root**.

Ð—Ð´ÐµÑÑŒ:

- Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¸Ð½Ð¶ÐµÐºÑ‚Ð¸Ñ€ÑƒÑŽÑ‚ÑÑ Ð² use cases.
- ÐÐ°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÑ‚ÑÑ fallback-Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¸ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¸ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸.
- Ð¤Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ð¹ HTTP-ÑÐµÑ€Ð²ÐµÑ€.

Ð­Ñ‚Ð¾ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚:

- Ð§Ñ‘Ñ‚ÐºÐ¾Ðµ Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.
- Ð“Ð¸Ð±ÐºÐ¾ÑÑ‚ÑŒ Ð¸ Ñ‚ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ.
- Ð•Ð´Ð¸Ð½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑÐ¼Ð¸.

> ðŸ’¡ ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ â€” Ð²: [`docs/composition-root.md`](./composition-root.md).
