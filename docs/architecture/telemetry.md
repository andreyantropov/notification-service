# –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é **–Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å (observability)** —á–µ—Ä–µ–∑ **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**, **—Å–∫–≤–æ–∑–Ω—É—é –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é**, **—Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫** –∏ **—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ **OpenTelemetry (OTel)**.

–í—Å—è –ª–æ–≥–∏–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ –ø–∞–∫–µ—Ç–µ [`@notification-platform/telemetry`](../../packages/telemetry), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `Logger`, `Tracer`, `Meter` –ø–æ–≤–µ—Ä—Ö OpenTelemetry API,
- –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è `winston` –∏ OTLP,
- –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã (`createMeteredChannel`, `createLoggedProducer`) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º –≤ `snake_case`.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö:

- ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è**: OpenTelemetry ‚Äî –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –ª–æ–≥–æ–≤, —Ç—Ä–µ–π—Å–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫.
- ‚úÖ **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –±—ç–∫–µ–Ω–¥–∞**: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–Ω–∞–µ—Ç, –∫—É–¥–∞ –ø–æ–ø–∞–¥–∞—é—Ç –¥–∞–Ω–Ω—ã–µ ‚Äî —ç—Ç–æ —Ä–µ—à–∞–µ—Ç OTel Collector.
- ‚úÖ **–ß–∏—Å—Ç–æ—Ç–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏**: —Å–±–æ—Ä —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –≤—ã–Ω–µ—Å–µ–Ω –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –¥–æ–º–µ–Ω–∞ —á–µ—Ä–µ–∑ **–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã** (`createMeteredChannel`, `createMeteredDeliveryService`) –∏ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `Logger`, `Meter`, `Tracer`.
- ‚úÖ **–°–∫–≤–æ–∑–Ω–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è**: –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç `trace_id` –∏ `span_id`, **–µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç—Ä–µ–π—Å–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω —á–µ—Ä–µ–∑ `Tracer`**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç HTTP-–∑–∞–ø—Ä–æ—Å–∞ –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏.
- ‚úÖ **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**: –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ OTel Collector –ª–æ–≥–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –ø–∏—Å–∞—Ç—å—Å—è –≤ `stdout`.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**:  
   –í—Å–µ —Å–æ–±—ã—Ç–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `winston` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ `Logger`.  
   –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `Log`.

2. **–ú–µ—Ç—Ä–∏–∫–∏**:  
   –°–±–æ—Ä –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `Meter` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—â–∏–π OpenTelemetry SDK.  
   –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ—Ä—è—é—Ç –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É—é—Ç —Å—á—ë—Ç—á–∏–∫–∏.

3. **–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞**:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ü–∏—è Express –∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö HTTP-–≤—ã–∑–æ–≤–æ–≤ —á–µ—Ä–µ–∑ `HttpInstrumentation` –∏ `ExpressInstrumentation`.
   - **–†—É—á–Ω–æ–µ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `channel.send()` –¥–ª—è email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π) —á–µ—Ä–µ–∑ –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ–º—ã–π `Tracer`.

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenTelemetry**:
   - `@opentelemetry/winston-transport` –¥–æ–±–∞–≤–ª—è–µ—Ç `trace_id`, `span_id` –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏ –≤ OTLP.
   - –ú–µ—Ç—Ä–∏–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `OTLPMetricExporter`.
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SDK –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–¥–æ —Å–æ–∑–¥–∞–Ω–∏—è DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**, —Ç.–∫. –≤ –æ—Å–Ω–æ–≤–µ SDK –ª–µ–∂–∏—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è Monkey Patching.

5. **–≠–∫—Å–ø–æ—Ä—Ç**:
   - OTLP/HTTP ‚Üí OTel Collector.
   - –ß–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª—å.

> –≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ config.

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Log`

–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ–ø–µ—Ä–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–∏–º–∏ –ø–æ–ª—è–º–∏:

```ts
interface Log {
  message: string;
  eventType?: EventType;
  durationMs?: number;
  details?: unknown;
  error?: unknown;
}
```

–í—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—è (`trace_id`, `service.name`, `timestamp` –∏ –¥—Ä.) **–¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –Ω–∞ —É—Ä–æ–≤–Ω–µ SDK.

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Meter`

–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```ts
interface Meter {
  // === –ë–∏–∑–Ω–µ—Å –º–µ—Ç—Ä–∏–∫–∏ ===
  incrementNotificationsProcessedTotal: () => void;
  incrementNotificationsProcessedByResult: (
    status: "success" | "failure",
  ) => void;
  incrementNotificationsProcessedBySubject: (subjectId: string) => void;
  incrementNotificationsProcessedByStrategy: (
    strategy: DeliveryStrategy,
  ) => void;
  incrementNotificationsProcessedByPriority: (isImmediate: boolean) => void;
  incrementRetryRoutingByQueue: (queue: string) => void;

  // === –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–∞–Ω–∞–ª–∞–º ===
  recordChannelLatency: (
    latency: number,
    attributes: Record<string, string | boolean>,
  ) => void;
  incrementNotificationsProcessedByChannel: (
    channel: ChannelType,
    status: "success" | "failure",
  ) => void;
}
```

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Tracer`

–î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ **—Å–∫–≤–æ–∑–Ω–æ–π —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ HTTP-—Å—Ç–µ–∫–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —á–µ—Ä–µ–∑ `channel.send()` –≤ –∫–∞–Ω–∞–ª–µ email) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ–º—ã–π `Tracer`.

–ö–∞–Ω–∞–ª—ã –∏ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ–ª—É—á–∞—é—Ç `Tracer` —á–µ—Ä–µ–∑ DI –∏ **–æ–±—è–∑–∞–Ω—ã**:

- —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ `span`'—ã —á–µ—Ä–µ–∑ `tracer.startActiveSpan()`,
- –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç—Ä–µ–π—Å–∞ (`trace_id`, `span_id`) –≤–æ –≤—Å–µ –ª–æ–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏.

> ‚ö†Ô∏è –ë–µ–∑ —è–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `Tracer` –æ–ø–µ—Ä–∞—Ü–∏–∏ **–Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ —Ç—Ä–µ–π—Å**, –¥–∞–∂–µ –µ—Å–ª–∏ —É –Ω–∏—Ö –µ—Å—Ç—å `trace_id` –≤ –ª–æ–≥–∞—Ö.

---

## –§–æ—Ä–º–∞—Ç –ª–æ–≥–∞

–õ–æ–≥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenTelemetry Logs: **–∞—Ç—Ä–∏–±—É—Ç—ã + —Ç–µ–ª–æ**.

### –ê—Ç—Ä–∏–±—É—Ç—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ)

| –ê—Ç—Ä–∏–±—É—Ç                    | –ó–Ω–∞—á–µ–Ω–∏–µ                               |
| -------------------------- | -------------------------------------- |
| `level`                    | `info`, `warning`, `error`, `critical` |
| `service.name`             | `"notification-service"`               |
| `service.version`          | –∏–∑ `package.json`                      |
| `deployment.environment`   | `dev` / `stage` / `prod`               |
| `trace_id`, `span_id`      | –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ OTel                      |
| `host.name`, `server.port` | –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏                          |

### –¢–µ–ª–æ (—É–ø—Ä–∞–≤–ª—è–µ–º–æ–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º)

| –ü–æ–ª–µ         | –û–ø–∏—Å–∞–Ω–∏–µ                                                             |
| ------------ | -------------------------------------------------------------------- |
| `message`    | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è                                             |
| `durationMs` | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (**–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ `Ms`**, –∞ –Ω–µ `duration`) |
| `details`    | –ö–æ–Ω—Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è) ‚Äî **–±–µ–∑ PII!**        |
| `error`      | –ü–æ–ª–Ω–∞—è –æ—à–∏–±–∫–∞ —Å `stack` –ø—Ä–∏ —É—Ä–æ–≤–Ω–µ `error`/`critical`                |

---

## –ú–µ—Ç—Ä–∏–∫–∏

### –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ä–≤–∏—Å–∞

| –ú–µ—Ç—Ä–∏–∫–∞                                     | –¢–∏–ø     | –ê—Ç—Ä–∏–±—É—Ç—ã                        |
| ------------------------------------------- | ------- | ------------------------------- |
| `notifications_processed_total`             | Counter | ‚Äî                               |
| `notifications_processed_by_status_total`   | Counter | `status`                        |
| `notifications_processed_by_subject_total`  | Counter | `subjectId`                     |
| `notifications_processed_by_strategy_total` | Counter | `strategy` (`DeliveryStrategy`) |
| `notifications_processed_by_priority_total` | Counter | `isImmediate`                   |
| `notifications_retry_routing_total`         | Counter | `retryQueue`                    |

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞–Ω–∞–ª–æ–≤

| –ú–µ—Ç—Ä–∏–∫–∞                                    | –¢–∏–ø       | –ê—Ç—Ä–∏–±—É—Ç—ã                            |
| ------------------------------------------ | --------- | ----------------------------------- |
| `notifications_channel_send_duration_ms`   | Histogram | `channel`, `status`                 |
| `notifications_processed_by_channel_total` | Counter   | `channel` (`ChannelType`), `status` |

---

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥

- **Grafana**: –ø–æ–∏—Å–∫ –ø–æ `trace_id`, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `eventType`, –¥–∞—à–±–æ—Ä–¥—ã SLI/SLO.
- **–ê–ª–µ—Ä—Ç–∏–Ω–≥**: —Å–æ–±—ã—Ç–∏—è `error`/`critical` –≤ **production** ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ Grafana.
- **–û—Ç–∫–ª—é—á–µ–Ω–æ**: –∞–ª–µ—Ä—Ç–∏–Ω–≥ –≤ `dev` –∏ `stage`.

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å OpenTelemetry Collector –≤ —Ä–µ–∂–∏–º–µ sidecar (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ Kubernetes).
- ‚úÖ –ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –∏–ª–∏ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á ‚Äî **–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ–º—ã–π `Tracer`** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `span`'–æ–≤.
- ‚úÖ –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ `details` ‚Äî –æ–Ω –ø–æ—è–≤–∏—Ç—Å—è –≤ –ª–æ–≥–∞—Ö –∏ Grafana.
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `durationMs` ‚Äî —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å SLO –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏.
- ‚ùå –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ PII, –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã.
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `eventType` –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ (`notification.sent`, `rabbitmq.published`).
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ ‚Äî –æ—Å–Ω–æ–≤–∞ –¥–ª—è SLO; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
- ‚úÖ –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ `traceContext` –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—á–µ—Ä–µ–¥–µ–π).

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç          | –†–æ–ª—å                                   |
| ------------------ | -------------------------------------- |
| `winston`          | –ó–∞–ø–∏—Å—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤         |
| `@opentelemetry/*` | SDK –¥–ª—è —Ç—Ä–µ–π—Å–æ–≤, –º–µ—Ç—Ä–∏–∫, OTLP-—ç–∫—Å–ø–æ—Ä—Ç–∞ |
| OTel Collector     | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è         |
| Grafana            | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫            |
| Telegram           | –ê–ª–µ—Ä—Ç–∏–Ω–≥ –ø–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–±—ã—Ç–∏—è–º       |

> üí° **–õ–æ–≥–∏–∫–∞ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π**:
>
> - `Logger`, `Meter`, `Tracer` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã,
> - `createMeteredChannel` ‚Äî –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä,
> - –ó–∞–º–µ–Ω–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏–ª–∏ –±—ç–∫–µ–Ω–¥–∞ ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `domain` –∏ `application`.
